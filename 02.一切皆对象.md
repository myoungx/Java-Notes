# 2 一切皆对象

## 2.1 引用

Java中一切皆被视作对象。

操作的标识符实际上是对象的一个**引用**（reference）。

## 2.2 对象存储空间

**1）寄存器**

位于处理器内部，是最快的存储区。

**2）堆栈**

位于通用RAM（随机访问存储器）中，速度仅次于寄存器。

堆栈指针向下移动，则分配新的内存；向上移动，则释放那些内存。

Java系统必须知道存储在堆栈内所有项的的确切生命周期。

「对象引用」存储在堆栈中。

**3）堆**

位于RAM中，是一种通用的内存池，用于存放所有的Java对象。

编译器不需要知道存储于堆中的数据在堆里存活多长时间。通过**new**创建对象，会自动在堆里进行存储分配。

速度比堆栈慢。

**4）常量存储**

位于方法区中。

（更多分析参考《深入理解Java虚拟机》——周志明）

**5）非RAM存储**

独立于程序存在，不受程序控制。

典型例子：*流对象*和*持久化对象*。

## 2.3 基本类型

对于小的、简单的变量，通过new在堆中创建不是很高效。因此，不用new来创建对象，而是创建一个*并非是引用* 的自动变量，这个变量直接存储「值」，并置于**堆栈**中，因此更高效。

所占存储空间：

- **byte**：8 bits，1个字节。[-128, +127]。
- **char**：16 bits，2个字节。[Unicode 0, Unicode 2^16 - 1]。
- **short**：16 bits，2个字节。[-2^15, 2^15 - 1]。
- **int**：32 bits，4个字节。[-2^31, 2^31 - 1]。
- **float**：32 bits，4个字节。[IEEE754, IEEE754]。
- **long**：64 bits，8个字节。[-2^63, 2^63 - 1]。
- **double**：64 bits，8个字节。[IEEE754, IEEE754]。
- **boolean**：没有明确指定，仅定义为能够取字面值**true**或**false**。

## 2.4 类

类中的基本数据类型的成员即使没有初始化，也有默认值

- boolean：false
- char：'\u0000' (null)
- byte：(byte) 0
- short：(short) 0
- int：0
- long：0L
- float：0.0f
- double：0.0d



方法名和参数列表（合起来称为「方法签名」）唯一地标识出某个方法。

通过对象调用方法的行为通常被称为*发送消息给对象*。

方法调用时传递的参数同样是类的**引用**。

## 2.5 构建Java程序

- 通过**import**指示编译器导入一个包，即一个类库

  **java.lang**会被自动导入到每一个Java文件中

- 用**static**关键字使得域或方法与类的任何对象实例无关，这种域和方法称为*类数据*、*类方法*。

- **javadoc**是JDK中用于提取注释的工具，输出HTML文件

  javadoc只能为**public**、**protected**成员进行文档注释，**private**和包内可访问成员的注释会被忽略掉。